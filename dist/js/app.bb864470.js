(function(t){function e(e){for(var o,r,c=e[0],s=e[1],u=e[2],l=0,p=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);f&&f(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function c(t){return s.p+"js/"+({about:"about",alert:"alert",book:"book","book-item":"book-item",books:"books",cart:"cart",categories:"categories",category:"category",checkout:"checkout",login:"login","my-order":"my-order",payment:"payment",profile:"profile",register:"register",search:"search"}[t]||t)+"."+{about:"af4be2fb",alert:"3aadebb0",book:"16e48a8d","book-item":"c139c9dd",books:"9bb70030",cart:"fe542ba2",categories:"730822f2",category:"eab2bfab",checkout:"9189bbf5",login:"e5b8a702","my-order":"c65e99ba",payment:"902e966f",profile:"74b0500d",register:"5b314c7a",search:"0743305e"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={alert:1,book:1,books:1,cart:1,categories:1,category:1,checkout:1,"my-order":1,payment:1,profile:1,register:1,search:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({about:"about",alert:"alert",book:"book","book-item":"book-item",books:"books",cart:"cart",categories:"categories",category:"category",checkout:"checkout",login:"login","my-order":"my-order",payment:"payment",profile:"profile",register:"register",search:"search"}[t]||t)+"."+{about:"31d6cfe0",alert:"bdc72f73",book:"0de7565f","book-item":"31d6cfe0",books:"228bb759",cart:"07a87f9f",categories:"228bb759",category:"11990f1e",checkout:"1913d42e",login:"31d6cfe0","my-order":"5c8076a7",payment:"57179a2d",profile:"57179a2d",register:"5b5dffac",search:"d3f5352b"}[t]+".css",a=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return e()}var p=document.getElementsByTagName("style");for(c=0;c<p.length;c++){u=p[c],l=u.getAttribute("data-href");if(l===o||l===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],f.parentNode.removeChild(f),n(i)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){r[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var p=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",p.name="ChunkLoadError",p.type=o,p.request=r,n[1](p)}a[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=(n("d3b7"),n("bc3a")),a=n.n(r),i={baseURL:"https://3465a7f2fe98.ngrok.io//v1"},c=a.a.create(i);c.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),c.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=c,window.axios=c,Object.defineProperties(t.prototype,{axios:{get:function(){return c}},$axios:{get:function(){return c}}})},o["a"].use(Plugin);Plugin;var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[t.isHome?n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),n("v-toolbar-title",{attrs:{to:"/"}},[t._v(t._s(t.appName))]),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.setDialogComponent("cart")}}},[n("v-badge",{attrs:{color:"orange",overlap:"",content:t.countCart,value:t.countCart}},[n("v-icon",[t._v("mdi-cart")])],1)],1),n("v-text-field",{attrs:{slot:"extension","hide-details":"","append-icon":"mdi-microphone",flat:"",label:"Search","prepend-inner-icon":"mdi-magnify","solo-inverted":""},on:{click:function(e){return t.setDialogComponent("search")}},slot:"extension"})],1):n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.$router.go(-1)}}},[n("v-icon",[t._v("mdi-arrow-left-circle")])],1),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.setDialogComponent("cart")}}},[n("v-badge",{attrs:{color:"orange",overlap:"",content:t.countCart,value:t.countCart}},[n("v-icon",[t._v("mdi-cart")])],1)],1)],1),n("v-card",[n("v-navigation-drawer",{attrs:{app:""},scopedSlots:t._u([t.guest?null:{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{attrs:{block:"",color:"red",dark:""},on:{click:t.logout}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-lock")]),t._v(" Logout ")],1)],1)]},proxy:!0}],null,!0),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.guest?t._e():n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:t.getImage(t.user.avatar)}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.user.name))])],1)],1),t.guest?n("div",{staticClass:"pa-2"},[n("v-btn",{staticClass:"mb-1",attrs:{block:"",color:"primary"},on:{click:function(e){return t.setDialogComponent("login")}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-lock")]),t._v(" Login ")],1),n("v-btn",{attrs:{block:"",color:"success"},on:{click:function(e){return t.setDialogComponent("register")}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-account")]),t._v(" Register ")],1)],1):t._e(),n("v-divider"),n("v-list",{attrs:{shaped:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},[t._l(t.menus,(function(e,o){return[!e.auth||e.auth&&!t.guest?n("v-list-item",{key:"menu-"+o,attrs:{to:e.route}},[n("v-list-item-icon",[n("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.title))])],1)],1):t._e()]}))],2)],1)],1)],1),n("Alert"),n("keep-alive",[n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"scale-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n(t.currentComponent,{tag:"component",on:{closed:t.setDialogStatus}})],1)],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("v-slide-y-transition",[n("router-view")],1)],1)],1),n("v-card",[n("v-footer",{attrs:{app:"",absolute:""}},[n("v-card-text",{staticClass:"text-center"},[t._v(" Â© "+t._s((new Date).getFullYear())+" - "),n("strong",[t._v(t._s(t.appName))])])],1)],1)],1)},u=[],l=n("5530"),p=n("2f62"),f={name:"App",components:{Alert:function(){return n.e("alert").then(n.bind(null,"98ab"))},Search:function(){return n.e("search").then(n.bind(null,"c106"))},Login:function(){return n.e("login").then(n.bind(null,"578a"))},Register:function(){return n.e("register").then(n.bind(null,"1feb"))},Cart:function(){return n.e("cart").then(n.bind(null,"b3b1"))}},data:function(){return{drawer:!1,menus:[{title:"Home",icon:"mdi-home",route:"/"},{title:"Profile",icon:"mdi-account",route:"/profile",auth:!0},{title:"My Order",icon:"mdi-shopping",route:"/my-order",auth:!0},{title:"About",icon:"mdi-help-box",route:"/about"}],item:1}},methods:Object(l["a"])(Object(l["a"])({},Object(p["b"])({setDialogStatus:"dialog/setStatus",setDialogComponent:"dialog/setComponent",setAuth:"auth/set",setAlert:"alert/set"})),{},{logout:function(){var t=this,e={headers:{Authorization:"Bearer "+this.user.api_token}};this.axios.post("/logout",{},e).then((function(){t.setAuth({}),t.setAlert({status:!0,color:"success",text:"Logout successfully"})})).catch((function(e){var n=e.response.data;t.setAlert({status:!0,color:"success",text:n.message})}))}}),mounted:function(){console.log(Object({NODE_ENV:"production",VUE_APP_API_URL:"https://3465a7f2fe98.ngrok.io/",VUE_APP_BACKEND_URL:"https://3465a7f2fe98.ngrok.io/",VUE_APP_NAME:"AntraxiaShop",BASE_URL:"/"}))},computed:Object(l["a"])(Object(l["a"])({isHome:function(){return"/"===this.$route.path}},Object(p["c"])({countCart:"cart/count",guest:"auth/guest",user:"auth/user",dialogStatus:"dialog/status",currentComponent:"dialog/component"})),{},{dialog:{get:function(){return this.dialogStatus},set:function(t){this.setDialogStatus(t)}}})},d=f,m=n("2877"),g=n("6544"),v=n.n(g),h=n("7496"),b=n("40dc"),y=n("5bc1"),k=n("4ca6"),_=n("8336"),x=n("b0af"),C=n("99d9"),w=n("a523"),P=n("a75b"),V=n("169a"),A=n("ce7e"),S=n("553a"),O=n("132d"),j=n("adda"),E=n("8860"),L=n("da13"),I=n("8270"),D=n("5d23"),N=n("1baa"),U=n("34c3"),T=n("f774"),B=n("0789"),q=n("2fa4"),F=n("8654"),H=n("2a7f"),M=Object(m["a"])(d,s,u,!1,null,null,null),R=M.exports;v()(M,{VApp:h["a"],VAppBar:b["a"],VAppBarNavIcon:y["a"],VBadge:k["a"],VBtn:_["a"],VCard:x["a"],VCardText:C["c"],VContainer:w["a"],VContent:P["a"],VDialog:V["a"],VDivider:A["a"],VFooter:S["a"],VIcon:O["a"],VImg:j["a"],VList:E["a"],VListItem:L["a"],VListItemAvatar:I["a"],VListItemContent:D["a"],VListItemGroup:N["a"],VListItemIcon:U["a"],VListItemTitle:D["c"],VNavigationDrawer:T["a"],VSlideYTransition:B["e"],VSpacer:q["a"],VTextField:F["a"],VToolbarTitle:H["a"]});var $=n("9483");Object($["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("45fc");var J=n("8c4f"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{staticClass:"ma-0 pa-0",attrs:{"grid-list-sm":""}},[n("div",{staticClass:"text-right"},[n("v-btn",{staticClass:"blue--text",attrs:{small:"",text:"",to:"/categories"}},[t._v(" All Categories "),n("v-icon",[t._v("mdi-chevron-right")])],1)],1),n("v-layout",{attrs:{wrap:""}},t._l(t.categories,(function(e){return n("v-flex",{key:"category-"+e.id,attrs:{xs6:""}},[n("v-card",{attrs:{to:"/category/"+e.slug}},[n("v-img",{staticClass:"white--text",attrs:{src:t.getImage(e.image),height:"300px"}}),n("v-card-title",{staticClass:"fill-height align-end",domProps:{textContent:t._s(e.name)}})],1)],1)})),1)],1),n("v-container",{staticClass:"ma-0 pa-0 mt-2",attrs:{"grid-list-sm":""}},[n("div",{staticClass:"text-right"},[n("v-btn",{staticClass:"blue--text",attrs:{small:"",text:"",to:"/books"}},[t._v(" All Books "),n("v-icon",[t._v("mdi-chevron-right")])],1)],1),n("v-layout",{attrs:{wrap:""}},t._l(t.books,(function(t){return n("v-flex",{key:"book-"+t.id,attrs:{xs6:""}},[n("book-item",{attrs:{book:t}})],1)})),1)],1)],1)},Y=[],z={name:"Home",data:function(){return{categories:[],books:[]}},components:{BookItem:function(){return n.e("book-item").then(n.bind(null,"54f3"))}},created:function(){var t=this;this.axios.get("/categories/random/2").then((function(e){var n=e.data.data;t.categories=n})).catch((function(t){var e=t.response;console.log(e)})),this.axios.get("/books/top/4").then((function(e){var n=e.data.data;t.books=n,console.log(t.books)})).catch((function(t){var e=t.responses;console.log(e)}))}},G=z,Q=n("0e8f"),W=n("a722"),X=Object(m["a"])(G,K,Y,!1,null,null,null),Z=X.exports;v()(X,{VBtn:_["a"],VCard:x["a"],VCardTitle:C["d"],VContainer:w["a"],VFlex:Q["a"],VIcon:O["a"],VImg:j["a"],VLayout:W["a"]});n("7db0"),n("4160"),n("c975"),n("a434"),n("159b");var tt={name:"cart",namespaced:!0,state:{carts:[]},mutations:{insert:function(t,e){t.carts.push({id:e.id,title:e.title,cover:e.cover,price:e.price,weight:e.weight,quantity:1})},update:function(t,e){var n=t.carts.indexOf(e);t.carts.splice(n,1,{id:e.id,title:e.title,cover:e.cover,price:e.price,weight:e.weight,quantity:e.quantity}),e.quantity<=0&&t.carts.splice(n,1)},set:function(t,e){t.carts=e}},actions:{add:function(t,e){var n=t.state,o=t.commit,r=n.carts.find((function(t){return t.id===e.id}));r?(r.quantity++,o("update",r)):o("insert",e)},remove:function(t,e){var n=t.state,o=t.commit,r=n.carts.find((function(t){return t.id===e.id}));r&&(r.quantity--,o("update",r))},set:function(t,e){var n=t.commit;n("set",e)}},getters:{carts:function(t){return t.carts},count:function(t){return t.carts.length},totalPrice:function(t){var e=0;return t.carts.forEach((function(t){e+=t.price*t.quantity})),e},totalQuantity:function(t){var e=0;return t.carts.forEach((function(t){e+=t.quantity})),e},totalWeight:function(t){var e=0;return t.carts.forEach((function(t){e+=t.weight})),e}}},et={name:"alert",namespaced:!0,state:{status:!1,color:"success",text:""},mutations:{set:function(t,e){t.status=e.status,t.text=e.text,t.color=e.color}},actions:{set:function(t,e){var n=t.commit;n("set",e)}},getters:{status:function(t){return t.status},color:function(t){return t.color},text:function(t){return t.text}}},nt=(n("b64b"),{name:"auth",namespaced:!0,state:{user:{}},mutations:{set:function(t,e){t.user=e}},actions:{set:function(t,e){var n=t.commit;n("set",e)}},getters:{user:function(t){return t.user},guest:function(t){return 0===Object.keys(t.user).length}}}),ot={name:"dialog",namespaced:!0,state:{status:!1,component:"search"},mutations:{setStatus:function(t,e){t.status=e},setComponent:function(t,e){t.component=e}},actions:{setStatus:function(t,e){var n=t.commit;n("setStatus",e)},setComponent:function(t,e){var n=t.commit;n("setComponent",e),n("setStatus",!0)}},getters:{status:function(t){return t.status},component:function(t){return t.component}}},rt={name:"region",namespaced:!0,state:{provinces:[],cities:[]},mutations:{setProvinces:function(t,e){t.provinces=e},setCities:function(t,e){t.cities=e}},actions:{setProvinces:function(t,e){var n=t.commit;n("setProvinces",e)},setCities:function(t,e){var n=t.commit;n("setCities",e)}},getters:{provinces:function(t){return t.provinces},cities:function(t){return t.cities}}},at=n("bfa9"),it=new at["a"]({key:"my-app",storage:localStorage});o["a"].use(p["a"]);var ct=new p["a"].Store({plugins:[it.plugin],state:{prevUrl:"",payment:[]},mutations:{setPrevUrl:function(t,e){t.prevUrl=e},setPayment:function(t,e){t.payment=e}},actions:{setPrevUrl:function(t,e){var n=t.commit;n("setPrevUrl",e)},setPayment:function(t,e){var n=t.commit;n("setPayment",e)}},getters:{prevUrl:function(t){return t.prevUrl},payment:function(t){return t.payment}},modules:{cart:tt,alert:et,auth:nt,dialog:ot,region:rt}});o["a"].use(J["a"]);var st=[{path:"/",name:"Home",component:Z},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/categories",name:"categories",component:function(){return n.e("categories").then(n.bind(null,"58c2"))}},{path:"/books",name:"books",component:function(){return n.e("books").then(n.bind(null,"4de9"))}},{path:"/category/:slug",name:"category",component:function(){return n.e("category").then(n.bind(null,"4886"))}},{path:"/book/:slug",name:"book",component:function(){return n.e("book").then(n.bind(null,"8bf3"))}},{path:"/checkout",name:"checkout",component:function(){return n.e("checkout").then(n.bind(null,"7cb4"))},meta:{auth:!0}},{path:"/payment",name:"payment",component:function(){return n.e("payment").then(n.bind(null,"1175"))},meta:{auth:!0}},{path:"/profile",name:"profile",component:function(){return n.e("profile").then(n.bind(null,"c66d"))},meta:{auth:!0}},{path:"/my-order",name:"my-order",component:function(){return n.e("my-order").then(n.bind(null,"7d27"))},meta:{auth:!0}}],ut=new J["a"]({mode:"history",routes:st});ut.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.auth}))&&ct.getters["auth/guest"]?(ct.dispatch("alert/set",{status:!0,text:"Login first",color:"error"}),ct.dispatch("setPrevUrl",t.path),ct.dispatch("dialog/setComponent","login"),ct.dispatch("dialog/setStatus",!0)):n()}));var lt=ut,pt=n("f309");o["a"].use(pt["a"]);var ft=new pt["a"]({}),dt={install:function(t){t.prototype.appName="AntraxiaShop",t.prototype.getImage=function(t){return null!=t&&t.length>0?"https://3465a7f2fe98.ngrok.io//storage/"+t:"/img/unavailable.png"}}};o["a"].use(dt),o["a"].config.productionTip=!1,new o["a"]({router:lt,store:ct,vuetify:ft,render:function(t){return t(R)}}).$mount("#app")}});
//# sourceMappingURL=app.bb864470.js.map